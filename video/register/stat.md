# FF41 - STAT - LCDステータスレジスタ (R/W)

bit | 内容 | RW
-- | -- | -- 
6 | LYC = LY一致割り込み (1 = 有効) | R/W
5 | モード2 OAM割り込み (1 = 有効) | R/W
4 | モード1 V-Blank割り込み (1 = 有効) | R/W
3 | モード0 H-Blank割り込み (1 = 有効) | R/W
2 | 一致フラグ  (1 => LYC == LY) | R
1-0 | モード (0..3) | R

bit1-0は現在のPPUの状態(モード)を表しています。各モードについては[こちら](../mode.md)を参照してください。

bit2は、LYがLYCと同じ値を含む場合にセットされます。このbitはリアルタイムで更新されます。

bit3-6はどのソース(イベント)がSTAT割り込みを起こしているかを表しています。

LCDコントローラは、2^22Hz = 4.194MHzのドットクロックで動作します。

ドット(dot)とは、PPUが1つのピクセルを出力できる最短期間のことです。ドットクロックが4.194MHzなので、DMGやCGBの通常速モードでは1クロックサイクル、CGBの倍速モードでは2クロックサイクルに相当します。モード3の各ドットでは、PPUがピクセルを出力しているか、フェッチャーがFIFOをストールさせているかのどちらかです。

フレーム全体では、154スキャンライン、70224ドット、16.74msとなります。

スキャンライン0\~143では、PPUは456ドットごとにモード2,3,0を循環させます。スキャンライン144\~153はモード1(VBlank)です。

```
Mode 2  2_____|2_____|2_____|2_____|2_____|2_____|______________|2____
Mode 3  _33___|_33___|_33___|_33___|_33___|_33___|______________|_3___
Mode 0  ___000|___000|___000|___000|___000|___000|______________|__000
Mode 1  ______|______|______|______|______|______|11111111111111|_____
```

PPUがグラフィック用のメモリを読み込んでいるとき、そのメモリ部分にはCPUからアクセスできません。

モード2,3では，CPUはOAM(`0xFE00..FE9F`)にアクセスできません。さらに、モード3では、VRAMおよびCGBパレットデータ(`FF69,FF6B`)へのアクセスはできません。

